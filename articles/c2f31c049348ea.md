---
title: 'Hono + Cloudflare Workers ã§ REST API ã‚’ä½œã‚ã†ï¼è¶…å…¥é–€'
emoji: 'ğŸ”¥'
type: 'tech' # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['hono', 'cloudflareworkers']
published: true
---

## ã¯ã˜ã‚ã«

ã“ã®è¨˜äº‹ã§ã¯ Hono ã¨ Cloudflare Workers ã‚’ä½¿ã£ã¦ REST API ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## Hono ã¨ã¯

Hono ã¯ Cloudflare Workers / Pages ã ã‘ã§ã¯ãªãæ§˜ã€…ãªç’°å¢ƒã§åˆ©ç”¨ã§ãã‚‹ JavaScript / TypeScript ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

è©³ã—ãã¯æ§˜ã€…ãªè¨˜äº‹ãŒã‚ã‚‹ã®ã§çœã‹ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆãƒ»æº–å‚™

Hono ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¸­ã‹ã‚‰ cloudflare-workers ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸ã‚“ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚

```shell-session
$ npm create hono@latest

create-hono version 0.6.3
? Target directory .
? Which template do you want to use? cloudflare-workers
âœ” Cloning the template
? Do you want to install project dependencies? yes
? Which package manager do you want to use? npm
âœ” Installing project dependencies
ğŸ‰ Copied project files
Get started with: cd .
```

æ¬¡ã« Wrangler ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚
Wrangler ã¯ Cloudflare Workers ã® CLI ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

```shell-session
$ npx wrangler login

 â›…ï¸ wrangler 3.50.0
-------------------
Attempting to login via OAuth...
Opening a link in your default browser: https://dash.cloudflare.com/oauth2/auth
Successfully logged in.
```

## èµ·å‹•

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```shell-session
$ npm run dev
```

`http://localhost:8787` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€`Hello Hono!` ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

## REST API ã®ä½œæˆ

`src/index.ts` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚

```typescript
import { Hono } from 'hono';

const app = new Hono();

app.get('/', (c) => {
	return c.text('Hello Hono!');
});

// Add a new route
app.get('/api', (c) => {
	return c.json({ message: 'Hello Hono!' });
});

// Add a new route with a parameter
app.get('/api/hello/:name', (c) => {
	const name = c.params.name;
	return c.text(`Hello, ${name}!`);
});

export default app;
```

`/api` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ JSON ãƒ‡ãƒ¼ã‚¿ãŒè¿”ã£ã¦ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

`/api/hello/:name` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€`:name` ã«æŒ‡å®šã—ãŸåå‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ãƒ‡ãƒ—ãƒ­ã‚¤

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

```shell-session
$ npm run deploy

> deploy
> wrangler deploy --minify src/index.ts

 â›…ï¸ wrangler 3.50.0
-------------------
âœ” Select an account â€º Your Account
Total Upload: 19.15 KiB / gzip: 7.27 KiB
Uploaded hono-introduction (1.14 sec)
Published hono-introduction (5.03 sec)
  https://hono-introduction.your-account.workers.dev
Current Deployment ID: 00000000-0000-0000-0000-000000000000
```

ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã™ã‚‹ã¨ URL ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## ã¾ã¨ã‚

Hono ã¨ Cloudflare Workers ã‚’ä½¿ã£ã¦ REST API ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚

è©³ã—ãã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [Hono](https://hono.dev/)
- [Cloudflare Workers](https://workers.cloudflare.com/)
